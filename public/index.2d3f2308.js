import{G as O,H as n,I as p,J as e,K as H,d as Y,L as T,q as Z,M as ee,r as s,N as M,O as V,c as h,P as D,Q as te}from"./vue.eb7ff4b3.js";import{N as ne,_ as oe,a as le,b as ae,u as se,c as ue,d as re,e as ce,f as ie,g as _e,h as pe,i as de,j as ve,k as me}from"./naive-ui.65a540a5.js";import{c as fe,a as ge}from"./vue-router.ef751318.js";import{a as ye}from"./axios.97253982.js";const be=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function c(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function u(o){if(o.ep)return;o.ep=!0;const l=c(o);fetch(o.href,l)}};be();var we=(m,r)=>{const c=m.__vccOpts||m;for(const[u,o]of r)c[u]=o;return c};const ke={};function he(m,r){const c=H("router-view"),u=le,o=ae,l=ne,i=oe;return p(),O(i,{abstract:""},{default:n(()=>[e(l,null,{default:n(()=>[e(o,null,{default:n(()=>[e(u,null,{default:n(()=>[e(c)]),_:1})]),_:1})]),_:1})]),_:1})}var xe=we(ke,[["render",he]]);const Ce={class:"ctx-main"},Ie=Y({__name:"base",setup(m){return window.message=se(),(r,c)=>{const u=H("router-view");return p(),T("div",Ce,[e(u,null,{default:n(({Component:o})=>[e(Z,{name:"slide"},{default:n(()=>[(p(),O(ee(o)))]),_:2},1024)]),_:1})])}}}),Ne={key:0,style:{color:"green"}},Pe={key:1,style:{color:"red"}},Te={__name:"home",setup(m){const r=s("http://api.iost.io"),c=s("1"),u=s("deadaddr"),o=s(""),l=window.IOST,i=s(!1),g=s(""),x=s(!1),S=s(!1),C=s(0),U=s(),I=s(!1),$=s(100),A=s(2e3),z=s({}),y=s("");let b,w,N,P;const E=s([{tx:"111"}]);b=new l.RPC(new l.HTTPProvider(r.value)),w=new l.IOST({gasRatio:1,gasLimit:1e5,delay:0}),w.setRPC(b);const j=async(f,t=!0)=>{const d=t?"https://explorer.iost.io/":"http://54.249.186.224/";try{const{data:_}=await ye.get(`${d}iost-api/accounts/${f}`,{timeout:1e4});if(_.code==0)return _.data.accounts||[]}catch(_){console.log(_)}return[]},F=()=>{C.value=C.value+1;const f=w.transfer("iost",g.value,u.value,c.value+"",o.alue);w.signAndSend(f).on("pending",t=>{E.value.push({tx:t})})},G=()=>{I.value=!0,U.value=setInterval(()=>{if(F(),C.value>=$.value)return K()},A.value)},K=()=>{U.value&&clearInterval(U.value),I.value=!1},L=async()=>{P=new l.KeyPair(l.Bs58.decode(y.value));const f=P.id,t=await j(f);z.value=t,g.value=t!=null&&t.length?t[0].name:"",N=new l.Account(g.value),N.addKeyPair(P,"owner"),N.addKeyPair(P,"active"),w.setAccount(N),localStorage.setItem("key",y.value),x.value=!1},B=()=>{S.value=!0,b==null||b.blockchain.getChainInfo().then(()=>{i.value=!0}).catch(()=>{i.value=!1}).finally(()=>{S.value=!1})};return B(),localStorage.getItem("key")&&(y.value=localStorage.getItem("key"),L()),(f,t)=>{const d=ie,_=ue,J=_e,k=pe,Q=de,v=re,R=ve,W=me,X=ce;return p(),T("div",null,[e(_,{style:{"margin-bottom":"10px"}},{default:n(()=>[M("div",null,"\u5F53\u524D\u8D26\u53F7\uFF1A"+V(g.value),1),e(d,{type:"primary",onClick:t[0]||(t[0]=a=>{x.value=!0}),size:"tiny",secondary:""},{default:n(()=>[h("\u5BFC\u5165\u5730\u5740")]),_:1})]),_:1}),e(_,{style:{"margin-bottom":"10px"}},{default:n(()=>[M("div",null,"\u5F53\u524D\u8FD0\u884C\u6B21\u6570\uFF1A"+V(C.value),1)]),_:1}),e(v,{label:"RPC","label-placement":"left"},{default:n(()=>[e(Q,null,{default:n(()=>[e(J,null,{default:n(()=>[i.value?(p(),T("div",Ne,"\u53EF\u7528")):(p(),T("div",Pe,"\u4E0D\u53EF\u7528"))]),_:1}),e(k,{value:r.value,"onUpdate:value":t[1]||(t[1]=a=>r.value=a),clearable:""},null,8,["value"]),e(d,{type:"primary",loading:S.value,onClick:B},{default:n(()=>[h(" \u68C0\u6D4B ")]),_:1},8,["loading"])]),_:1})]),_:1}),e(v,{label:"iost\u53D1\u9001\u6570\u91CF","label-placement":"left"},{default:n(()=>[e(k,{value:c.value,"onUpdate:value":t[2]||(t[2]=a=>c.value=a),clearable:""},null,8,["value"])]),_:1}),e(v,{label:"\u63A5\u53D7\u8005\u5730\u5740","label-placement":"left"},{default:n(()=>[e(k,{value:u.value,"onUpdate:value":t[3]||(t[3]=a=>u.value=a),clearable:""},null,8,["value"])]),_:1}),e(v,{label:"\u5907\u6CE8\u4FE1\u606F","label-placement":"left"},{default:n(()=>[e(k,{type:"textarea",value:o.value,"onUpdate:value":t[4]||(t[4]=a=>o.value=a),clearable:""},null,8,["value"])]),_:1}),e(_,null,{default:n(()=>[e(v,{label:"\u8FD0\u884C\u6B21\u6570","label-placement":"left"},{default:n(()=>[e(R,{value:$.value,"onUpdate:value":t[5]||(t[5]=a=>$.value=a),clearable:""},null,8,["value"])]),_:1}),e(v,{label:"\u95F4\u9694\u65F6\u957F\uFF08ms\uFF09","label-placement":"left"},{default:n(()=>[e(R,{value:A.value,"onUpdate:value":t[6]||(t[6]=a=>A.value=a),clearable:""},null,8,["value"])]),_:1})]),_:1}),e(_,null,{default:n(()=>[I.value?D("",!0):(p(),O(d,{key:0,type:"primary",onClick:G,disabled:!g.value},{default:n(()=>[h("MINT")]),_:1},8,["disabled"])),I.value?(p(),O(d,{key:1,type:"error",onClick:K},{default:n(()=>[h("\u505C\u6B62")]),_:1})):D("",!0)]),_:1}),e(X,{show:x.value,"onUpdate:show":t[8]||(t[8]=a=>x.value=a)},{default:n(()=>[e(W,{style:{width:"600px"},title:"\u5BFC\u5165\u94B1\u5305",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{footer:n(()=>[e(d,{onClick:L},{default:n(()=>[h(" \u786E\u5B9A ")]),_:1})]),default:n(()=>[e(v,{label:"\u79C1\u94A5"},{default:n(()=>[e(k,{value:y.value,"onUpdate:value":t[7]||(t[7]=a=>y.value=a),type:"textarea"},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["show"])])}}},Oe=[{path:"/",redirect:"/",component:Ie,children:[{path:"/",name:"home",component:Te}]}],Se=fe({history:ge(),routes:[...Oe],scrollBehavior:()=>({left:0,top:0})});const q=te(xe);q.use(Se);q.mount("#app");
